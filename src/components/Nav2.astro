---
import Icon from './Icon.astro';
import ThemeToggle from './ThemeToggle.astro';
import type { iconPaths } from './IconPaths';
import { Image } from 'astro:assets';
import logo from '../../public/sfbc-logo1-white.png';

/** Main menu items */
const textLinks: { label: string; href: string }[] = [
	{ label: 'Home', href: '/' },
	{ label: 'Sermons', href: '/sermons/' },
	{ label: 'Events', href: '/events/' },
	{ label: 'Ministries', href: '/ministries/'},
	{ label: 'Outreach', href: '/outreach/'},
	{ label: 'About', href: '/about/' },
];

/** Icon links to social media — edit these with links to your profiles! */
const iconLinks: { label: string; href: string; icon: keyof typeof iconPaths }[] = [
	{ label: 'Facebook', href: 'https://www.facebook.com/SibagatFBC', icon: 'facebook-logo' },
	{ label: 'YouTube', href: 'https://www.youtube.com/@sibagatfbc/', icon: 'youtube-logo' },
	{ label: 'Tiktok', href: 'https://tiktok.com/@sibagatfbc/', icon: 'tiktok-logo' },
	
];
---

<nav>
	<div class="header">
		<a href="/" class="brand">
			<Image src={logo} alt="Sibagat Fundamental Baptist Church" width={100} />
		</a>
		<div class="menu-btn">
			<!-- <img class="menu-btn_img" src="assets/imagens/menu-alt.svg" alt="menu button"> -->
		  </div>
	

			<ul class="navegation">
				

				<li class="navegation-items">
			
						<a
							aria-current={Astro.url.pathname === href}
							class:list={[
								'link',
								{
									active:
										Astro.url.pathname === href ||
										(href !== '/' && Astro.url.pathname.startsWith(href)),
								},
							]}
							href={href}
						>
							{label}
						</a>
					</li>
				))
			}
		</ul>

</div>
	<noscript>
		<div class="menu-footer">
			<div class="socials">
				{
					iconLinks.map(({ href, icon, label }) => (
						<a href={href} class="social">
							<span class="sr-only">{label}</span>
							<Icon icon={icon} />
						</a>
					))
				}
			</div>
		</div>
	</noscript>
	<div id="menu-content" hidden>
		<ul class="nav-items">
			{
				textLinks.map(({ label, href }) => (
					<li>
						<a
							aria-current={Astro.url.pathname === href}
							class:list={[
								'link',
								{
									active:
										Astro.url.pathname === href ||
										(href !== '/' && Astro.url.pathname.startsWith(href)),
								},
							]}
							href={href}
						>
							{label}
						</a>
					</li>
				))
			}
		</ul>
		<div class="menu-footer">
			<div class="socials">
				{
					iconLinks.map(({ href, icon, label }) => (
						<a href={href} class="social">
							<span class="sr-only">{label}</span>
							<Icon icon={icon} />
						</a>
					))
				}
			</div>

			<div class="theme-toggle">
				<ThemeToggle />
			</div>
		</div>
	</div>
</nav>

<script>
//JavaScript of responsive navigation menu

const menuBtn = document.querySelector(".menu-btn");
const navegation = document.querySelector(".navegation");

menuBtn.addEventListener("click", () => {
  //si la clase "active" está presente la elimina, de lo contrario la añade
  menuBtn.classList.toggle("active");
  navegation.classList.toggle("active");
});

//JavaScript for video slider navegation
const btns = document.querySelectorAll(".nav-btn");
const slides = document.querySelectorAll(".video-slide");
const contents = document.querySelectorAll(".content");

var sliderNav = function (manual) {
  //button
  btns.forEach((btn) => {
    btn.classList.remove("active");
  });

  //video
  slides.forEach((slide) => {
    slide.classList.remove("active");
  });

  //content
  contents.forEach((content) => {
    content.classList.remove("active");
  });

  //button
  btns[manual].classList.add("active");
  //video
  slides[manual].classList.add("active");
  //content
  contents[manual].classList.add("active");
};

btns.forEach((btn, i) => {
  btn.addEventListener("click", () => {
    sliderNav(i);
  });
});
</script>


